<template>
    <div class="task">
        <div class="task-header">
            <h2 class="task-title">{blockName}</h2>
        </div>

        <template if:true={tasks}>
            <template for:each={tasks} for:item="task" key={task.Id}>
                <c-task-item task={task}
                             key={task.Id}
                             ondeletetask={handleTaskDelete}
                             oncompletetask={handleCompleteTask}
                             onupdatetask={refresh}>
                </c-task-item>
            </template>
        </template>

        <template if:true={taskToDo}>
            <div class="add-task" onclick={toggleCreateTask}>
                <div class="add-task-icon">+</div>
                <div class="add-task-text">Add Task</div>
            </div>
        </template>

        <template if:true={isCreatNewTask}>
            <c-create-task ontaskcreated={handleTaskCreated}></c-create-task>
        </template>
    </div>
</template>